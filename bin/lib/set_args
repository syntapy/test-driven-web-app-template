#! /bin/sh

source ./docker/.env

CMD_ARG="$@"

while getopts "e:c:" opt; do
    case ${opt} in
        e)
            ENTRY=${OPTARG}
            ;;
        c)
            CMD=${OPTARG}
            ;;
        ?)
            echo "Usage:"
            echo "  -e ENTRY    Entrypoint for container"
            echo "  -c COMMAND  Command to run"
            exit 1
            ;;
    esac
done

if [ -n "$ENTRY" ]; then
    echo "Overriding entrypoint with arg"
    APP_ENTRY=$ENTRY
else
    APP_ENTRY="npm"
fi

if [ -n "$CMD" ]; then
    echo "Overriding command with arg"
    APP_COMMAND=$CMD
fi

